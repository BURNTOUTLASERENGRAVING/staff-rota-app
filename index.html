<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Staff Rota & Task Checklist</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="landing-page">
        <h1>Welcome!</h1>
        <p id="landing-page-message">Loading staff profiles...</p>
        <div id="staff-icons-container">
            <!-- Staff icons will be dynamically populated here by app.js -->
        </div>
    </div>

    <div id="app-container" class="hidden">
        <header class="hidden">
            <h1>Staff Rota & Tasks</h1>
            <div class="top-controls">
                <span id="user-info"></span>
                <button id="dark-mode-toggle" title="Toggle Dark Mode" aria-label="Toggle Dark Mode">ðŸŒ™</button>
                <button id="admin-toggle-btn" class="hidden">Admin Panel</button>
                <button id="sign-out-btn">Sign Out</button>
            </div>
            <nav class="nav-buttons">
                <button id="nav-home" class="active">Home</button>
                 <button id="nav-my-tasks">My Tasks</button>
            </nav>
        </header>

        <main>
            <!-- PIN Entry View -->
            <section id="pin-entry-view" class="hidden auth-view">
                <div class="auth-form-container">
                    <h2 id="pin-entry-title">Enter PIN for <strong id="pin-login-user-display">User</strong></h2>
                    <form id="pin-login-form">
                        <div>
                            <label for="pin-input">4-Digit PIN:</label>
                            <input type="password" id="pin-input" inputmode="numeric" pattern="[0-9]*" maxlength="4" required autocomplete="off">
                        </div>
                        <button type="submit" class="action-btn">Login</button>
                        <button type="button" id="pin-cancel-btn" class="action-btn secondary-btn">Cancel</button>
                    </form>
                </div>
            </section>

            <!-- Home View -->
            <section id="home-view" class="hidden">
                <h2>Home Dashboard</h2>
                <p>Welcome to the main application area. More features coming soon!</p>
            </section>
            
             <!-- My Tasks View -->
            <section id="my-tasks-view" class="hidden">
                <h2>My Tasks</h2>
                <p>Your tasks will be listed here.</p>
            </section>

            <!-- Admin View -->
            <section id="admin-view" class="hidden">
                <h2>Admin Panel</h2>
                <div id="account-management-section" class="admin-section hidden">
                    <h3>Account Management (Owner Access)</h3>
                    <div id="admin-create-account-section">
                        <h4>Create New User Account</h4>
                        <p>New staff will be created with a default PIN of "0000".</p>
                        <form id="admin-create-account-form">
                            <div>
                                <label for="admin-new-account-name">Full Name:</label>
                                <input type="text" id="admin-new-account-name" required>
                            </div>
                            <div>
                                <label for="admin-new-account-gender">Gender (for icon):</label>
                                <select id="admin-new-account-gender" required>
                                    <option value="" disabled selected>-- Select --</option>
                                    <option value="male">Male (ðŸ‘¨)</option>
                                    <option value="female">Female (ðŸ‘©)</option>
                                    <option value="other">Other (ðŸ‘¤)</option>
                                </select>
                            </div>
                            <div>
                                <label for="admin-new-account-role">Role:</label>
                                <select id="admin-new-account-role" required>
                                    <option value="" disabled selected>-- Select --</option>
                                    <option value="FOH">FOH (Front of House)</option>
                                    <option value="BOH">BOH (Back of House)</option>
                                    <option value="Supervisor">Supervisor</option>
                                    <option value="Manager">Manager</option>
                                    <option value="Owner">Owner</option>
                                </select>
                            </div>
                            <button type="submit" class="action-btn">Create Account</button>
                        </form>
                    </div>
                    <h4>Existing User Accounts</h4>
                    <ul id="user-accounts-list"><li class="no-data">Loading accounts...</li></ul>
                </div>
            </section>
        </main>
        
        <footer><p>Â© <span id="current-year">2024</span> Staff Rota & Task Checklist.</p></footer>
    </div>

    <div id="toast-container" role="alert" aria-live="assertive"></div>
    <script src="app.js"></script>

</body>
</html>
